import{r as s,j as e,K as y,S}from"./app-nUqQ7yHU.js";import{I}from"./InputError-Dxbi3bhu.js";import{A,a as T,b as w}from"./alert-CBwWH9uc.js";import{B as M}from"./button-CZNwMcjW.js";import{L as d}from"./label-DnNgpJC0.js";import{A as O,S as P}from"./AppLayout-HMtFkAOj.js";import{c as k}from"./utils-DdhcCPaC.js";import{I as C}from"./iconify-UPomDOL-.js";import{t as E}from"./index-Ba2aNcjd.js";import{s as F}from"./index-DYrn6zHh.js";import L from"./ModelSelector-DmS2NWu0.js";import R from"./TemperatureSelector-y4nCymWS.js";import"./index-DGrkKgMT.js";import"./input-BpRyKDf7.js";import"./separator-BB3MwsvO.js";import"./dialog-z35dOSef.js";import"./index-jkSOGXlp.js";import"./index-Ck7UmjVM.js";import"./index-BidZMABv.js";import"./index-CYRNUmCa.js";import"./index-Q3TAqLyU.js";import"./index-C86NnV09.js";import"./createLucideIcon-BITYyA_o.js";import"./index-yfmvN5Y1.js";import"./index-0LLtFATr.js";import"./index-BR4cSn98.js";import"./avatar-BiazHXuE.js";import"./index-CNMhR7-p.js";import"./index-CJZ_GtSB.js";import"./check-kCqOfe73.js";import"./useSeoMetaTags-Dt8O8htb.js";import"./index-BdQq_4o_.js";import"./index-NQIq8vXu.js";import"./chevron-down-BWnrgf3g.js";const l=s.forwardRef(({className:a,...i},r)=>e.jsx("textarea",{className:k("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:r,...i}));l.displayName="Textarea";const je=s.memo(({systemPrompt:a,models:i,subscriptionEnabled:r})=>{const[c,u]=s.useState(""),[m,x]=s.useState(null),[p,n]=s.useState(null),[f,h]=s.useState(i[0]),j=y(),g=t=>{h(t)},b=async()=>{if(!c.trim()){n("Please enter a message");return}n(null);try{const o=await(await fetch("/prism/openai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:f,messages:[{role:"user",content:c}]})})).json();x(o.choices[0].message.content)}catch{n("An error occurred while submitting your message.")}};s.useEffect(()=>{if(!r){const t=new Promise(o=>{const v=setTimeout(()=>{o(F("subscriptions.create"))},5e3);return()=>clearTimeout(v)});E.promise(t,{loading:"Pro Subscription Required to use this feature.",success:o=>{S.visit(o)}})}},[r]);const N=`${j.props.name} - AI Playground`;return e.jsx(O,{title:N,children:e.jsxs("div",{className:"h-full flex-col flex",children:[e.jsxs(A,{className:"mb-4",children:[e.jsx(C,{icon:"lucide:info",className:"size-4"}),e.jsx(T,{children:"Demo AI Chat"}),e.jsx(w,{children:"This is a demo AI chat. You can use it to test the AI chat. And This is subscrition protected page so you can't use it without subscription."})]}),r&&e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"h-full",children:e.jsxs("div",{className:"grid h-full items-stretch gap-6 md:grid-cols-[minmax(0,1fr)_180px]",children:[e.jsxs("div",{className:"flex-col space-y-4 flex md:order-2",children:[e.jsx(L,{models:i,onModelSelect:g}),e.jsx(R,{})]}),e.jsx("div",{className:"order-1",children:e.jsx("div",{className:"mt-0 border-0 p-0",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"grid h-full gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-1 flex-col space-y-2",children:[e.jsx(d,{htmlFor:"input",children:"System Input"}),e.jsx(l,{id:"input",disabled:!0,defaultValue:a,className:"flex-1 lg:min-h-[320px]"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(d,{htmlFor:"instructions",children:"User Input"}),e.jsx(l,{id:"instructions",value:c,onChange:t=>u(t.target.value),className:"lg:min-h-[320px]"})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(d,{htmlFor:"output",children:"Model Output"}),m?e.jsx(l,{id:"output",disabled:!0,className:"min-h-[400px] rounded-md bg-muted border lg:min-h-[700px]",defaultValue:m}):e.jsx(P,{className:"h-20 sm:h-full min-h-[400px] lg:min-h-[700px] rounded-md"})]})]}),!m&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{onClick:b,children:e.jsx("span",{children:"Submit"})}),p&&e.jsx(I,{message:p})]})]})})})]})})})]})})});export{je as default};
