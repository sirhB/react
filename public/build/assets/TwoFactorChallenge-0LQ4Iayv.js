import{r as s,m as f,j as e}from"./app-nUqQ7yHU.js";import{I as n}from"./InputError-Dxbi3bhu.js";import{A as x}from"./LogoRedirect-DJ0LF3Q7.js";import{B as p}from"./button-CZNwMcjW.js";import{C as y,a as h,b as j,c as v,d as g}from"./card-BQFr2KsC.js";import{I as i}from"./input-BpRyKDf7.js";import{L as m}from"./label-DnNgpJC0.js";import{u as C}from"./useSeoMetaTags-Dt8O8htb.js";import{s as b}from"./index-DYrn6zHh.js";import"./utils-DdhcCPaC.js";import"./iconify-UPomDOL-.js";import"./index-DGrkKgMT.js";const A=s.memo(()=>{C({title:"Two-factor Confirmation"});const[r,l]=s.useState(!1),o=f({code:"",recovery_code:""}),c=s.useRef(null),a=s.useRef(null),d=()=>{l(t=>!t),r?(o.setData("recovery_code",""),setTimeout(()=>{var t;return(t=a.current)==null?void 0:t.focus()},0)):(o.setData("code",""),setTimeout(()=>{var t;return(t=c.current)==null?void 0:t.focus()},0))},u=t=>{t.preventDefault(),o.post(b("two-factor.login"))};return e.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center",children:e.jsxs(y,{className:"mx-auto max-w-lg",children:[e.jsxs(h,{children:[e.jsx(j,{className:"flex justify-center",children:e.jsx(x,{})}),e.jsx(v,{className:"text-center text-2xl",children:"Two-factor authentication"})]}),e.jsxs(g,{children:[e.jsx("div",{className:"mb-4 text-sm",children:r?"Please confirm access to your account by entering one of your emergency recovery codes.":"Please confirm access to your account by entering the authentication code provided by your authenticator application."}),e.jsxs("form",{onSubmit:u,children:[r?e.jsxs("div",{children:[e.jsx(m,{htmlFor:"recovery_code",children:"Recovery Code"}),e.jsx(i,{id:"recovery_code",ref:c,type:"text",value:o.data.recovery_code,onChange:t=>o.setData("recovery_code",t.target.value),className:"mt-1 block w-full",autoComplete:"one-time-code"}),e.jsx(n,{className:"mt-2",message:o.errors.recovery_code})]}):e.jsxs("div",{children:[e.jsx(m,{htmlFor:"code",children:"Code"}),e.jsx(i,{id:"code",ref:a,type:"text",inputMode:"numeric",value:o.data.code,onChange:t=>o.setData("code",t.target.value),className:"mt-1 block w-full",autoFocus:!0,autoComplete:"one-time-code"}),e.jsx(n,{className:"mt-2",message:o.errors.code})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-end",children:[e.jsx("button",{type:"button",className:"cursor-pointer text-sm",onClick:d,children:r?"Use an authentication code":"Use a recovery code"}),e.jsx(p,{className:`ms-4 ${o.processing?"opacity-25":""}`,disabled:o.processing,children:"Log in"})]})]})]})]})})});export{A as default};
