import{r as m,j as e,K as H,m as S,$ as L}from"./app-nUqQ7yHU.js";import{I as v}from"./InputError-Dxbi3bhu.js";import{A as z}from"./LogoRedirect-DJ0LF3Q7.js";import{B as w}from"./button-CZNwMcjW.js";import{C as U,a as J,b as Q,c as X,d as Y}from"./card-BQFr2KsC.js";import{C as Z}from"./checkbox-BaS4xhTS.js";import{I as b}from"./input-BpRyKDf7.js";import{L as j}from"./label-DnNgpJC0.js";import{u as ee,c as N}from"./index-jkSOGXlp.js";import{c as se}from"./index-Ck7UmjVM.js";import{c as F,R as ae,I as re}from"./index-CJZ_GtSB.js";import{P as te}from"./index-C86NnV09.js";import{P as h}from"./index-DGrkKgMT.js";import{u as oe}from"./index-CNMhR7-p.js";import{u as ie}from"./index-BidZMABv.js";import{c as T}from"./utils-DdhcCPaC.js";import{I as ne}from"./iconify-UPomDOL-.js";import{s as g}from"./index-DYrn6zHh.js";import{u as ce}from"./useSeoMetaTags-Dt8O8htb.js";import{t as x,T as le}from"./index-Ba2aNcjd.js";import"./index-NQIq8vXu.js";import"./index-0LLtFATr.js";import"./check-kCqOfe73.js";import"./createLucideIcon-BITYyA_o.js";var k="Tabs",[de,Be]=se(k,[F]),R=F(),[me,I]=de(k),E=m.forwardRef((s,t)=>{const{__scopeTabs:i,value:r,onValueChange:c,defaultValue:u,orientation:a="horizontal",dir:n,activationMode:p="automatic",...f}=s,d=oe(n),[l,o]=ee({prop:r,onChange:c,defaultProp:u});return e.jsx(me,{scope:i,baseId:ie(),value:l,onValueChange:o,orientation:a,dir:d,activationMode:p,children:e.jsx(h.div,{dir:d,"data-orientation":a,...f,ref:t})})});E.displayName=k;var A="TabsList",P=m.forwardRef((s,t)=>{const{__scopeTabs:i,loop:r=!0,...c}=s,u=I(A,i),a=R(i);return e.jsx(ae,{asChild:!0,...a,orientation:u.orientation,dir:u.dir,loop:r,children:e.jsx(h.div,{role:"tablist","aria-orientation":u.orientation,...c,ref:t})})});P.displayName=A;var D="TabsTrigger",_=m.forwardRef((s,t)=>{const{__scopeTabs:i,value:r,disabled:c=!1,...u}=s,a=I(D,i),n=R(i),p=V(a.baseId,r),f=B(a.baseId,r),d=r===a.value;return e.jsx(re,{asChild:!0,...n,focusable:!c,active:d,children:e.jsx(h.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":f,"data-state":d?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:p,...u,ref:t,onMouseDown:N(s.onMouseDown,l=>{!c&&l.button===0&&l.ctrlKey===!1?a.onValueChange(r):l.preventDefault()}),onKeyDown:N(s.onKeyDown,l=>{[" ","Enter"].includes(l.key)&&a.onValueChange(r)}),onFocus:N(s.onFocus,()=>{const l=a.activationMode!=="manual";!d&&!c&&l&&a.onValueChange(r)})})})});_.displayName=D;var $="TabsContent",M=m.forwardRef((s,t)=>{const{__scopeTabs:i,value:r,forceMount:c,children:u,...a}=s,n=I($,i),p=V(n.baseId,r),f=B(n.baseId,r),d=r===n.value,l=m.useRef(d);return m.useEffect(()=>{const o=requestAnimationFrame(()=>l.current=!1);return()=>cancelAnimationFrame(o)},[]),e.jsx(te,{present:c||d,children:({present:o})=>e.jsx(h.div,{"data-state":d?"active":"inactive","data-orientation":n.orientation,role:"tabpanel","aria-labelledby":p,hidden:!o,id:f,tabIndex:0,...a,ref:t,style:{...s.style,animationDuration:l.current?"0s":void 0},children:o&&u})})});M.displayName=$;function V(s,t){return`${s}-trigger-${t}`}function B(s,t){return`${s}-content-${t}`}var ue=E,G=P,q=_,K=M;const fe=ue,O=m.forwardRef(({className:s,...t},i)=>e.jsx(G,{ref:i,className:T("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));O.displayName=G.displayName;const y=m.forwardRef(({className:s,...t},i)=>e.jsx(q,{ref:i,className:T("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t}));y.displayName=q.displayName;const C=m.forwardRef(({className:s,...t},i)=>e.jsx(K,{ref:i,className:T("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));C.displayName=K.displayName;function pe(s){return s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()}const ge=m.memo(({provider:s,disabled:t=!1})=>e.jsx(w,{disabled:t,className:"bg-background text-foreground hover:bg-secondary disabled:opacity-50 dark:hover:bg-primary/80 dark:bg-primary dark:text-primary-foreground",asChild:!0,children:e.jsxs("a",{href:g("oauth.redirect",{provider:s.slug}),children:[e.jsx(ne,{icon:s.icon,className:"mr-2 h-4 w-4"}),"Sign In With"," ",pe(s.slug)]})}));function Ge({canResetPassword:s,status:t,availableOauthProviders:i}){const{props:r}=H(),[c,u]=m.useState(()=>{try{return localStorage.getItem("login-active-tab")||"password"}catch{return"password"}}),a=S({email:"test@example.com",password:"password",remember:!1}),n=S({email:""}),p=Object.keys(i||{}).length>0,f=a.processing||n.processing,d=o=>{o.preventDefault(),a.post(g("login"),{onFinish:()=>a.reset("password")})},l=o=>{o.preventDefault(),n.post(g("login-link.store"),{onSuccess:()=>{n.reset(),r.flash.success&&x.success(r.flash.success)},onError:()=>{r.flash.error&&x.error(r.flash.error)}})};return m.useEffect(()=>{r.flash.error&&x.error(r.flash.error),r.flash.success&&x.success(r.flash.success)},[r.flash]),m.useEffect(()=>{try{localStorage.setItem("login-active-tab",c)}catch{}},[c]),ce({title:"Log in"}),e.jsxs(e.Fragment,{children:[e.jsx(le,{position:"top-center"}),e.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-linear-to-b from-background/50 to-background",children:e.jsxs(U,{className:"mx-auto w-[420px] shadow-lg transition-all duration-300 hover:shadow-xl",children:[e.jsxs(J,{children:[e.jsx(Q,{className:"flex justify-center",children:e.jsx(z,{})}),e.jsx(X,{className:"text-center text-2xl font-light",children:"Welcome Back"})]}),e.jsxs(Y,{children:[t&&e.jsx("div",{className:"mb-4 text-sm font-medium text-green-600",children:t}),e.jsxs(fe,{value:c,onValueChange:u,className:"w-full",children:[e.jsxs(O,{className:"grid w-full grid-cols-2 rounded-lg p-1",children:[e.jsx(y,{value:"password",children:"Password"}),e.jsx(y,{value:"login-link",children:"Login Link"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(C,{value:"password",className:"space-y-4",children:e.jsx("form",{onSubmit:d,children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{htmlFor:"email",children:"Email"}),e.jsx(b,{id:"email",type:"email",value:a.data.email,onChange:o=>a.setData("email",o.target.value),placeholder:"name@example.com",required:!0,autoFocus:!0,autoComplete:"username"}),e.jsx(v,{message:a.errors.email})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{htmlFor:"password",children:"Password"}),s&&e.jsx(L,{href:g("password.request"),className:"text-sm text-muted-foreground hover:text-primary hover:underline underline-offset-4",children:"Forgot password?"})]}),e.jsx(b,{id:"password",type:"password",value:a.data.password,onChange:o=>a.setData("password",o.target.value),required:!0,autoComplete:"current-password"}),e.jsx(v,{message:a.errors.password})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"remember",checked:a.data.remember,onCheckedChange:o=>a.setData("remember",o),name:"remember"}),e.jsx("label",{htmlFor:"remember",className:"text-sm text-muted-foreground",children:"Remember me"})]}),e.jsx(w,{type:"submit",className:`w-full ${a.processing?"opacity-75":""}`,disabled:f,children:a.processing?"Signing in...":"Sign in"})]})})}),e.jsxs(C,{value:"login-link",className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"We'll send you a login link for password-free sign in."}),e.jsx("form",{onSubmit:l,children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(j,{htmlFor:"login-link-email",children:"Email"}),e.jsx(b,{id:"login-link-email",type:"email",value:n.data.email,onChange:o=>n.setData("email",o.target.value),required:!0,placeholder:"name@example.com"}),e.jsx(v,{message:n.errors.email})]}),e.jsx(w,{type:"submit",className:`w-full ${n.processing?"opacity-75":""}`,disabled:f,children:n.processing?"Sending...":"Send Login Link"})]})})]})]})]}),p&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),e.jsx("div",{className:"mt-6 grid gap-2",children:Object.entries(i).map(([o,W])=>e.jsx(ge,{provider:W,disabled:f},o))})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",e.jsx(L,{href:g("register"),className:"font-medium text-primary hover:underline",children:"Sign up"})]})]})]})})]})}export{Ge as default};
