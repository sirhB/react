import{r,j as s,a as E}from"./app-nUqQ7yHU.js";import{B as j}from"./button-CZNwMcjW.js";import{D as I,f as N,a as k,b as S,c as b,d as B,e as F,g as R}from"./dialog-z35dOSef.js";import{I as T}from"./input-BpRyKDf7.js";import{s as H}from"./index-DYrn6zHh.js";import{I as K}from"./InputError-Dxbi3bhu.js";const A=r.memo(({title:w="Confirm Password",content:C="For your security, please confirm your password to continue.",button:D="Confirm",children:y,onConfirmed:e})=>{const[P,n]=r.useState(!1),[o,i]=r.useState(""),[v,c]=r.useState(""),[l,t]=r.useState(!1),d=r.useRef(null),p=()=>{n(!1),i(""),c("")},m=()=>{t(!0),E.post(H("password.confirm"),{password:o}).then(()=>{t(!1),e==null||e(o),p()}).catch(a=>{var u,f,g,x,h;t(!1),c((x=(g=(f=(u=a.response)==null?void 0:u.data)==null?void 0:f.errors)==null?void 0:g.password)==null?void 0:x[0]),(h=d.current)==null||h.focus()})};return s.jsx("span",{children:s.jsxs(I,{open:P,onOpenChange:n,children:[s.jsx(N,{asChild:!0,children:y}),s.jsxs(k,{children:[s.jsxs(S,{children:[s.jsx(b,{children:w}),s.jsx(B,{children:C})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(T,{ref:d,value:o,onChange:a=>i(a.target.value),type:"password",className:"mt-1 block",placeholder:"Password",autoComplete:"current-password",onKeyUp:a=>a.key==="Enter"&&m()}),s.jsx(K,{message:v,className:"mt-2"})]}),s.jsxs(F,{className:"mt-4",children:[s.jsx(R,{asChild:!0,children:s.jsx(j,{variant:"secondary",onClick:p,children:"Cancel"})}),s.jsx(j,{variant:"destructive",className:`ms-3 ${l?"opacity-25":""}`,disabled:l,onClick:m,children:D})]})]})]})})});export{A as C};
